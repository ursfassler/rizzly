//test ok

interface
  ValueEvent
    function tick( val: R{0,255} );
  end

component
  TransOrder

  input
    in      : ValueEvent;
  
  output
    out     : ValueEvent;
    
  implementation hfsm(A)
    transition 
      A to A by in.tick( val: R{0,255} ) if val = 0 do
        out.tick( 0 );
      end
      
      A to A by in.tick( val: R{0,255} ) if val = 1 do
        out.tick( 1 );
      end
    
    state A
      transition 
        A to A by in.tick( val: R{0,255} ) if val = 2 do
          out.tick( 2 );
        end
        
        A to A by in.tick( val: R{0,255} ) if val = 3 do
          out.tick( 3 );
        end
    end

    transition 
      A to A by in.tick( val: R{0,255} ) if val = 4 do
        out.tick( 4 );
      end
      
      A to A by in.tick( val: R{0,255} ) do
        out.tick( 5 );
      end
      
  end

