//test ok

Hfsm1 = Component
  tick : slot();
  evt : signal( value: R{0,255} );

hfsm(A)
  AA to B.BB by tick() do
    evt( 1 );
  end
  AA.BB to B by tick() do
    evt( 2 );
  end
  
  A : state(AA)
    entry
      evt( 10 );
    end
    exit
      evt( 19 );
    end
    
    AA : state(AAA)
      entry
        evt( 20 );
      end
      exit
        evt( 29 );
      end
      
      AAA : state
        entry
          evt( 30 );
        end
        exit
          evt( 39 );
        end
      end
      
      AA to BB by tick() do
        evt( 3 );
      end
  
      BB : state
        entry
          evt( 40 );
        end
        exit
          evt( 49 );
        end
      end
    end
  end

  B : state(BB)
    entry
      evt( 50 );
    end
    exit
      evt( 59 );
    end

    BB : state(BBB)
      entry
        evt( 60 );
      end
      exit
        evt( 69 );
      end
      
      BBB : state
        entry
          evt( 70 );
        end
        exit
          evt( 79 );
        end
      end
    end
  end
  
  BBB to AAA by tick() do
    evt( 3 );
  end
end

