
interface
  Iface
    function tick();
    function read():R{0,255};
  end
  
component
  Query
    input
      in : Iface;
    
  implementation hfsm( A )
  
    transition
      A to B by in.tick();
      B to C by in.tick();
      C to A by in.tick();
  
    state A
    end
      
    state B
      function in.read():R{0,255}
        return 42;
      end
    end

    state C
      function in.read():R{0,255}
        return 57;
      end
    end
    
    function in.read():R{0,255}
      return 0;
    end
  
  end

