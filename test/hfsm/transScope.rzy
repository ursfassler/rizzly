
interface
  Iface
    function tick();
  end
  
component
  TransScope
    input
      in : Iface;
    
  implementation hfsm( A )
  
    transition
      A to B by in.tick() if a = 0;
      B to A by in.tick() if b = 0;
  
    state A
      entry
        a := 5;
      end
      
      var
        a : R{0,255};
        
      transition
        A to A by in.tick() do
          if a > 0 then
            a := a - 1;
          end
        end
    end
      
    state B
      entry
        b := 3;
      end
      
      var
        b : R{0,255};
        
      transition
        B to B by in.tick() do
          if b > 0 then
            b := b - 1;
          end
        end
    end

  end

