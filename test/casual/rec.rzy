type
  Point = Record
    x : R{0,100};
    y : R{0,100};
  end

interface
  Tick
    function tick( x: R{0,100} );
  end

component
  Rec
    input
      in  : Tick;
    
    output
      out : Tick;
    
  implementation elementary

    var
      p : Point;
      q : Point;

    entry
      p.x := 0;
      p.y := 0;
      q.x := 0;
      q.y := 0;
    end

    function in.tick(  x: R{0,100}  )
      p.x := (p.y + x) mod 100;
      p.y := 100 - p.x;
      q   := p;
      out.tick( q.y );
    end

  end

