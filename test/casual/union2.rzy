type
  Uni = Union( R{0,10}, R{-10,10} );

interface
  Data
    function tick();
  end

component
  Union2
    input
      in  : Data;

    implementation elementary

    var
      data : Uni;

    function abs( x: R{-10,10} ):R{0,10}
      if x < 0 then
        return -x;
      else
        return x;
      end
    end
  
    function in.tick()
      x : R{0,10};
      case data of
        R{0,10}:
          x := data;  // ... as R{0,10}
        end
        R{-10,10}:
          x := abs( data );
        end
      end
    end
    

  end

