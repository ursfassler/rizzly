
function getBits( nr: Natural ):Natural
  bits : Natural = 0;
  while nr <> 0 do
    nr   := nr shr 1;
    bits := bits + 1;
  end
  return bits;
end

type
  Rec{T:Type} = Record
    a : T;
    b : T;
  end

component
  Typefunc
    implementation elementary
      var
        a : R{0,getBits( 42 )};
        b : R{0,255};
        c : Rec{R{0,255}};
  end

