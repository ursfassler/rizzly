
component
  AlarmClock
    input
      tick();
    
    output
      alarm();
    
  implementation hfsm(Counting)
    var
      time    : R{0,5};
      
    entry
      time    := 5;
    end
    
    state Counting
    end
    
    state Off
    end
    
    transition 
      Counting to Counting by tick() if time > 0 do
        time := R{0,5}( time - 1 );
      end
      
      Counting to Off by tick() if time = 0 do
        alarm();
      end
    
  end

