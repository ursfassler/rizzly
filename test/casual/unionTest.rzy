Rec = Record
  a : R{0,255};
  b : R{0,255};
end

Uni = Union
  dat1 : Rec;
  dat2 : R{0,65535};
end

UnionTest = Component
  set1 : slot( a, b: R{0,255} );
  set2 : slot( c: R{0,65535} );
  get1a : response():R{0,255};
  get1b : response():R{0,255};
  get2 : response():R{0,65535};

elementary
  data : Uni = [ dat2 := 0 ];

  set1 : slot( a, b: R{0,255} )
    data.dat1.a := a;
    data.dat1.b := b;
  end
  
  set2 : slot( c: R{0,65535} )
    data.dat2 := c;
  end
  
  get1a : response():R{0,255}
    return data.dat1.a;
  end
  
  get1b : response():R{0,255}
    return data.dat1.b;
  end
  
  get2 : response():R{0,65535}
    return data.dat2;
  end
  

end


