type
  Rec = Record
    a : R{0,255};
    b : R{0,255};
  end
  
  Uni = Union
    dat1 : Rec;
    dat2 : R{0,65535};
  end

component
  UnionTest 
    slot     set1( a, b: R{0,255} );
    slot     set2( c: R{0,65535} );
    response get1a():R{0,255};
    response get1b():R{0,255};
    response get2():R{0,65535};

    implementation elementary

    var
      data : Uni = dat2 := 0;
  
    slot set1( a, b: R{0,255} )
      data.dat1.a := a;
      data.dat1.b := b;
    end
    
    slot set2( c: R{0,65535} )
      data.dat2 := c;
    end
    
    response get1a():R{0,255}
      return data.dat1.a;
    end
    
    response get1b():R{0,255}
      return data.dat1.b;
    end
    
    response get2():R{0,65535}
      return data.dat2;
    end
    

  end


